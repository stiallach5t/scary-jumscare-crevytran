<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiểm Tra Ám Ảnh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Creepster&display=swap');

        body {
            background-color: #000;
            color: #1a1a1a;
            overflow: hidden;
            cursor: none; /* Giấu chuột để tăng sự bất an */
            user-select: none;
        }

        .horror-font {
            font-family: 'Creepster', cursive;
        }

        /* Hiệu ứng rung màn hình cực mạnh */
        @keyframes violent-shake {
            0% { transform: translate(0,0) scale(1); filter: invert(0); }
            10% { transform: translate(-10px, -10px) scale(1.1); filter: invert(1); }
            20% { transform: translate(10px, 5px) scale(1.2); }
            30% { transform: translate(-5px, 15px) scale(1.1); filter: hue-rotate(90deg); }
            40% { transform: translate(15px, -5px) scale(1.3); }
            50% { transform: translate(-15px, -15px) scale(1.2); filter: invert(1); }
            100% { transform: translate(0,0) scale(1.1); }
        }

        .jumpscare-active {
            animation: violent-shake 0.05s infinite;
        }

        #jumpscare-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-size: cover;
            background-position: center;
            z-index: 10000;
            /* Hình ảnh ma quái ám ảnh hơn */
            background-image: url('https://images.unsplash.com/photo-1509248961158-e54f6934749c?q=80&w=2037&auto=format&fit=crop');
        }

        /* Điểm mục tiêu khó nhìn */
        #target {
            width: 3px;
            height: 3px;
            background: #0a0a0a;
            position: absolute;
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(255,255,255,0.05);
        }

        #custom-cursor {
            width: 20px;
            height: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }

        /* Hiệu ứng mờ ảo phía sau */
        .vignette {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 30%, black 100%);
            pointer-events: none;
        }

        /* Phần ghi công được làm lớn hơn */
        .credit {
            position: fixed;
            bottom: 20px;
            right: 25px;
            font-size: 18px; /* Tăng kích thước chữ */
            color: #444; /* Màu xám đậm hơn một chút để dễ đọc nhưng vẫn bí ẩn */
            font-family: 'Creepster', cursive; /* Sử dụng font kinh dị cho tên tác giả */
            z-index: 60;
            letter-spacing: 3px;
            text-shadow: 0 0 5px rgba(0,0,0,0.8);
            opacity: 0.6;
        }
    </style>
</head>
<body class="flex items-center justify-center h-screen">

    <div class="vignette"></div>
    <div id="custom-cursor"></div>
    <div class="credit">cre: Vytran</div>

    <!-- Màn hình bắt đầu mang tính lừa đảo cao -->
    <div id="setup-screen" class="text-center z-50 p-10 bg-zinc-950 border border-zinc-900 shadow-2xl">
        <h1 class="text-zinc-500 text-xl tracking-widest mb-6">LABORATORY CALIBRATION v4.02</h1>
        <p class="text-zinc-600 text-sm mb-8 leading-relaxed">
            Để bắt đầu bài kiểm tra nhận diện vi điểm,<br>
            vui lòng bật âm lượng loa lên 80% để nghe tín hiệu phản hồi.<br>
            Giữ yên tư thế mặt cách màn hình 20cm.
        </p>
        <button onclick="initApp()" class="px-10 py-3 border border-zinc-700 text-zinc-500 hover:bg-zinc-900 transition-all uppercase text-xs tracking-widest">Khởi chạy cấu hình</button>
    </div>

    <!-- Khu vực "thí nghiệm" -->
    <div id="game-area" class="hidden w-full h-full relative">
        <div id="target"></div>
        <div id="status-bar" class="absolute bottom-5 left-5 text-[10px] text-zinc-800 font-mono">
            EYE-TRACKING: ACTIVE | SIGNAL: WEAK | SENSOR_01: OK
        </div>
        <p id="instruction" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[10px] text-zinc-900 transition-opacity duration-1000">Tập trung nhìn vào điểm đen đang di chuyển...</p>
    </div>

    <div id="jumpscare-overlay"></div>

    <!-- Âm thanh thì thầm để dụ người dùng vặn to loa -->
    <audio id="whisper-audio" loop>
        <source src="https://www.soundboard.com/handler/DownLoadTrack.ashx?cliptitle=Creepy+Whisper&filename=24/248611-643f8e5e-6e21-49b8-8987-9e6659c2409f.mp3" type="audio/mpeg">
    </audio>

    <!-- Âm thanh thét kinh hoàng -->
    <audio id="scream-audio">
        <source src="https://www.soundboard.com/handler/DownLoadTrack.ashx?cliptitle=Scary+Scream&filename=24/246414-72216668-3e44-4841-a185-5b4382585f54.mp3" type="audio/mpeg">
    </audio>

    <script>
        const cursor = document.getElementById('custom-cursor');
        const target = document.getElementById('target');
        const whisper = document.getElementById('whisper-audio');
        const scream = document.getElementById('scream-audio');
        const overlay = document.getElementById('jumpscare-overlay');
        let stage = 0;

        // Theo dõi chuột tùy chỉnh
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX - 10 + 'px';
            cursor.style.top = e.clientY - 10 + 'px';
        });

        function initApp() {
            document.getElementById('setup-screen').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen();
            }

            // Bắt đầu tiếng thì thầm nhỏ để họ phải tập trung
            whisper.volume = 0.2;
            whisper.play().catch(() => {});

            moveTarget();
        }

        function moveTarget() {
            // Điểm đen di chuyển rất chậm và khó thấy
            const x = Math.random() * (window.innerWidth - 50) + 25;
            const y = Math.random() * (window.innerHeight - 50) + 25;
            target.style.left = x + 'px';
            target.style.top = y + 'px';
        }

        target.addEventListener('mouseenter', () => {
            stage++;
            if (stage < 4) {
                // Di chuyển điểm đi chỗ khác khi họ sắp chạm vào
                moveTarget();
                if(stage === 2) {
                    document.getElementById('instruction').innerText = "Tốt... Giữ nguyên vị trí đó...";
                    document.getElementById('instruction').style.color = "#111";
                }
            } else {
                doJumpscare();
            }
        });

        function doJumpscare() {
            whisper.pause();
            
            // Kích hoạt jumpscare
            overlay.style.display = 'block';
            document.body.classList.add('jumpscare-active');
            
            scream.volume = 1.0;
            scream.play();

            // Hiệu ứng chớp đỏ
            let count = 0;
            const interval = setInterval(() => {
                document.body.style.backgroundColor = count % 2 === 0 ? '#600' : '#000';
                count++;
                if (count > 40) clearInterval(interval);
            }, 30);

            // Chặn mọi hành vi thoát trong 5 giây đầu
            setTimeout(() => {
                window.location.reload();
            }, 5000);
        }

        // Vô hiệu hóa chuột phải
        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>